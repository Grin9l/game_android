# Решение проблем с запуском игры

## Игра не запускается после установки APK

### Возможные причины и решения:

#### 1. Проверка логов ошибок

Для диагностики проблемы нужно посмотреть логи Android.

**САМЫЙ ПРОСТОЙ СПОСОБ (рекомендуется):**
- Установите приложение "Log Viewer" или "MatLog" из Google Play
- Запустите приложение и начните запись логов
- Запустите игру "Ксюша Единорог"
- Вернитесь в приложение логов и найдите записи с тегом "GameView" или "MainActivity"

**Через ADB (если телефон подключен к компьютеру):**
- См. подробную инструкцию в файле `HOW_TO_CHECK_LOGS.md`
- Кратко: установите ADB, включите отладку по USB, выполните `adb logcat | Select-String "GameView"`

#### 2. Типичные проблемы:

**Проблема: Приложение сразу закрывается**
- **Причина:** Ошибка при инициализации
- **Решение:** Обновлено в последней версии - добавлена обработка ошибок

**Проблема: Черный экран**
- **Причина:** SurfaceView не инициализирован
- **Решение:** Добавлены проверки размеров экрана и инициализации

**Проблема: Приложение не отвечает**
- **Причина:** Бесконечный цикл в потоке
- **Решение:** Добавлена проверка состояния потока

#### 3. Что было исправлено в последней версии:

✅ Добавлена проверка размеров экрана (если они равны 0, используются значения по умолчанию)
✅ Добавлена проверка на null для всех объектов перед использованием
✅ Добавлена обработка исключений в критических местах
✅ Добавлено логирование ошибок в MainActivity
✅ Исправлена инициализация потока игры

#### 4. Если проблема сохраняется:

1. **Удалите старое приложение:**
   - Настройки → Приложения → Ксюша Единорог → Удалить

2. **Скачайте новый APK:**
   - Перейдите в GitHub Actions
   - Скачайте последний собранный APK
   - Установите заново

3. **Проверьте версию Android:**
   - Игра требует Android 5.0 (API 21) или выше
   - Проверьте: Настройки → О телефоне → Версия Android

4. **Проверьте разрешения:**
   - Игра не требует специальных разрешений
   - Если система запрашивает разрешения, это может быть проблемой

#### 5. Отправка отчета об ошибке:

Если проблема сохраняется, соберите следующую информацию:

1. Версия Android на телефоне
2. Модель телефона
3. Логи ошибок (через ADB или приложение для логов)
4. Описание: что происходит при запуске (черный экран, сразу закрывается, зависает и т.д.)

#### 6. Альтернативная сборка:

Если проблема в APK из GitHub Actions, попробуйте собрать локально:

```bash
cd d:\app
.\gradlew.bat assembleDebug
```

APK будет в: `app\build\outputs\apk\debug\app-debug.apk`

---

**Последнее обновление:** Добавлена обработка ошибок и проверки для предотвращения крашей при запуске.

